(()=>{"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t){return 0===Object.keys(t).length}function a(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}function u(t){let n;return a(t,(t=>n=t))(),n}function l(t,n,e){t.$$.on_destroy.push(a(n,e))}function f(t,n,e,o){if(t){const r=d(t,n,e,o);return t[0](r)}}function d(t,e,o,r){return t[1]&&r?n(o.ctx.slice(),t[1](r(e))):o.ctx}function p(t,n,e,o){if(t[2]&&o){const r=t[2](o(e));if(void 0===n.dirty)return r;if("object"==typeof r){const t=[],e=Math.max(n.dirty.length,r.length);for(let o=0;o<e;o+=1)t[o]=n.dirty[o]|r[o];return t}return n.dirty|r}return n.dirty}function m(t,n,e,o,r,s){if(r){const i=d(n,e,o,s);t.p(i,r)}}function $(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function h(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function g(t,n){const e={};n=new Set(n);for(const o in t)n.has(o)||"$"===o[0]||(e[o]=t[o]);return e}new Set;let v,w=!1;function y(t,n){t.appendChild(n)}function b(t,n,e){t.insertBefore(n,e||null)}function x(t){t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function k(t){return document.createTextNode(t)}function C(){return k(" ")}function q(){return k("")}function S(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function E(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function R(t){return""===t?null:+t}function P(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function T(t,n){t.value=null==n?"":n}function N(t,n,e,o){t.style.setProperty(n,e,o?"important":"")}function A(t){v=t}function I(){if(!v)throw new Error("Function called outside component initialization");return v}function L(t){I().$$.on_mount.push(t)}function F(t){I().$$.on_destroy.push(t)}function O(){const t=I();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n,e=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e,!1,n),o}(n,e);o.slice().forEach((n=>{n.call(t,r)}))}}}function M(t,n){I().$$.context.set(t,n)}function j(t){return I().$$.context.get(t)}new Set;const U=[],W=[],z=[],H=[],D=Promise.resolve();let B=!1;function Q(){B||(B=!0,D.then(X))}function Y(){return Q(),D}function V(t){z.push(t)}function G(t){H.push(t)}let J=!1;const K=new Set;function X(){if(!J){J=!0;do{for(let t=0;t<U.length;t+=1){const n=U[t];A(n),Z(n.$$)}for(A(null),U.length=0;W.length;)W.pop()();for(let t=0;t<z.length;t+=1){const n=z[t];K.has(n)||(K.add(n),n())}z.length=0}while(U.length);for(;H.length;)H.pop()();B=!1,J=!1,K.clear()}}function Z(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(V)}}const tt=new Set;let nt,et;function ot(){nt={r:0,c:[],p:nt}}function rt(){nt.r||r(nt.c),nt=nt.p}function st(t,n){t&&t.i&&(tt.delete(t),t.i(n))}function it(t,n,e,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),nt.c.push((()=>{tt.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function ct(t){return"object"==typeof t&&null!==t?t:{}}function at(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function ut(t){t&&t.c()}function lt(t,n,o,i){const{fragment:c,on_mount:a,on_destroy:u,after_update:l}=t.$$;c&&c.m(n,o),i||V((()=>{const n=a.map(e).filter(s);u?u.push(...n):r(n),t.$$.on_mount=[]})),l.forEach(V)}function ft(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function dt(n,e,s,i,c,a,u,l=[-1]){const f=v;A(n);const d=n.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:o(),dirty:l,skip_bound:!1,root:e.target||f.$$.root};u&&u(d.root);let p=!1;if(d.ctx=s?s(n,e.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&c(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),p&&function(t,n){-1===t.$$.dirty[0]&&(U.push(t),Q(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}(n,t)),e})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!i&&i(d.ctx),e.target){if(e.hydrate){w=!0;const t=(m=e.target,Array.from(m.childNodes));d.fragment&&d.fragment.l(t),t.forEach(x)}else d.fragment&&d.fragment.c();e.intro&&st(n.$$.fragment),lt(n,e.target,e.anchor,e.customElement),w=!1,X()}var m;A(f)}"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global,new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(et=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(s);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,n,e){this[t]=e}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){ft(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class pt{$destroy(){ft(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}async function mt(t){return new Promise((n=>{setTimeout(n,t)}))}function $t(n){let e;return{c(){e=_("div"),e.innerHTML='<div class="svelte-1vdom7f"></div><div class="svelte-1vdom7f"></div><div class="svelte-1vdom7f"></div><div class="svelte-1vdom7f"></div><div class="svelte-1vdom7f"></div><div class="svelte-1vdom7f"></div><div class="svelte-1vdom7f"></div><div class="svelte-1vdom7f"></div><div class="svelte-1vdom7f"></div>',E(e,"class","lds-grid svelte-1vdom7f")},m(t,n){b(t,e,n)},p:t,i:t,o:t,d(t){t&&x(e)}}}const ht=class extends pt{constructor(t){super(),dt(this,t,null,$t,i,{})}};function gt(n){let e,o,s,i,c,a,u,l,f,d,p,m,$,h,g,v,w,k,q,P,N,A,I,L,F,O,M;return{c(){e=_("div"),o=_("label"),o.textContent="Hostname or IP Address",s=C(),i=_("input"),c=C(),a=_("div"),u=_("label"),u.textContent="Port number",l=C(),f=_("input"),d=C(),p=_("div"),m=_("label"),m.textContent="Username",$=C(),h=_("input"),g=C(),v=_("div"),w=_("label"),w.textContent="Password",k=C(),q=_("input"),P=C(),N=_("div"),A=_("label"),A.textContent="ID",I=C(),L=_("input"),F=_("br"),E(o,"for","mqtt_host"),E(i,"id","mqtt_host"),E(e,"class","form-group"),E(u,"for","mqtt_port"),E(f,"id","mqtt_port"),E(f,"type","number"),E(f,"min","0"),E(f,"max","65536"),E(a,"class","form-group"),E(m,"for","mqtt_username"),E(h,"id","mqtt_username"),E(p,"class","form-group"),E(w,"for","mqtt_password"),E(q,"id","mqtt_password"),E(v,"class","form-group"),E(A,"for","mqtt_id"),E(L,"id","mqtt_id"),E(N,"class","form-group")},m(t,r){b(t,e,r),y(e,o),y(e,s),y(e,i),T(i,n[1].mqtt_host),b(t,c,r),b(t,a,r),y(a,u),y(a,l),y(a,f),T(f,n[1].mqtt_port),b(t,d,r),b(t,p,r),y(p,m),y(p,$),y(p,h),T(h,n[1].mqtt_username),b(t,g,r),b(t,v,r),y(v,w),y(v,k),y(v,q),T(q,n[1].mqtt_password),b(t,P,r),b(t,N,r),y(N,A),y(N,I),y(N,L),T(L,n[1].mqtt_id),y(N,F),O||(M=[S(i,"input",n[3]),S(f,"input",n[4]),S(h,"input",n[5]),S(q,"input",n[6]),S(L,"input",n[7])],O=!0)},p(t,n){2&n&&i.value!==t[1].mqtt_host&&T(i,t[1].mqtt_host),2&n&&R(f.value)!==t[1].mqtt_port&&T(f,t[1].mqtt_port),2&n&&h.value!==t[1].mqtt_username&&T(h,t[1].mqtt_username),2&n&&q.value!==t[1].mqtt_password&&T(q,t[1].mqtt_password),2&n&&L.value!==t[1].mqtt_id&&T(L,t[1].mqtt_id)},i:t,o:t,d(t){t&&x(e),t&&x(c),t&&x(a),t&&x(d),t&&x(p),t&&x(g),t&&x(v),t&&x(P),t&&x(N),O=!1,r(M)}}}function vt(n){let e,o;return e=new ht({}),{c(){ut(e.$$.fragment)},m(t,n){lt(e,t,n),o=!0},p:t,i(t){o||(st(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){ft(e,t)}}}function wt(t){let n,e,o,r,s,i,c,a,u,l,f,d,p=t[0]?"Loading":"Save";const m=[vt,gt],$=[];function h(t,n){return t[0]?0:1}return s=h(t),i=$[s]=m[s](t),{c(){n=_("form"),e=_("fieldset"),o=_("legend"),o.textContent="MQTT Settings",r=C(),i.c(),c=C(),a=_("button"),u=k(p),E(a,"type","submit"),a.disabled=t[0],E(n,"id","mqtt-form")},m(i,p){b(i,n,p),y(n,e),y(e,o),y(e,r),$[s].m(e,null),y(n,c),y(n,a),y(a,u),l=!0,f||(d=S(n,"submit",t[2]),f=!0)},p(t,[n]){let o=s;s=h(t),s===o?$[s].p(t,n):(ot(),it($[o],1,1,(()=>{$[o]=null})),rt(),i=$[s],i?i.p(t,n):(i=$[s]=m[s](t),i.c()),st(i,1),i.m(e,null)),(!l||1&n)&&p!==(p=t[0]?"Loading":"Save")&&P(u,p),(!l||1&n)&&(a.disabled=t[0])},i(t){l||(st(i),l=!0)},o(t){it(i),l=!1},d(t){t&&x(n),$[s].d(),f=!1,d()}}}function yt(t,n,e){let o=!1,r={mqtt_host:"",mqtt_port:1883,mqtt_id:"",mqtt_username:"",mqtt_password:""};return L((async()=>{e(0,o=!0),e(1,r=await async function(){const t=await fetch("/api/mqtt-settings");return await t.json()}()),e(0,o=!1)})),[o,r,async function(t){t.preventDefault(),async function(t){t.port=parseInt(t.port);const n=new URLSearchParams(t);await fetch("/api/mqtt-settings",{method:"POST",body:n,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})}(r)},function(){r.mqtt_host=this.value,e(1,r)},function(){r.mqtt_port=R(this.value),e(1,r)},function(){r.mqtt_username=this.value,e(1,r)},function(){r.mqtt_password=this.value,e(1,r)},function(){r.mqtt_id=this.value,e(1,r)}]}const bt=class extends pt{constructor(t){super(),dt(this,t,yt,wt,i,{})}},xt=t=>({}),_t=t=>({}),kt=t=>({}),Ct=t=>({});function qt(t){let n,e,o,r,s,i,c,a;const u=t[5]["modal-header"],l=f(u,t,t[4],Ct),d=l||function(t){let n,e;return{c(){n=_("h1"),e=k(t[0])},m(t,o){b(t,n,o),y(n,e)},p(t,n){1&n&&P(e,t[0])},d(t){t&&x(n)}}}(t),h=t[5].default,g=f(h,t,t[4],null),v=t[5]["modal-footer"],w=f(v,t,t[4],_t),q=w||function(t){let n,e,o,r,s;return{c(){n=_("button"),e=k("Close"),E(n,"type","button"),E(n,"id",o=t[1]+"-close-button")},m(o,i){b(o,n,i),y(n,e),r||(s=S(n,"click",t[2]),r=!0)},p(t,e){2&e&&o!==(o=t[1]+"-close-button")&&E(n,"id",o)},d(t){t&&x(n),r=!1,s()}}}(t);return{c(){n=_("div"),e=_("div"),o=_("div"),d&&d.c(),r=C(),s=_("div"),g&&g.c(),i=C(),c=_("div"),q&&q.c(),E(o,"class","modal-header svelte-1mw0zyv"),E(s,"class","modal-content svelte-1mw0zyv"),E(c,"class","modal-footer svelte-1mw0zyv"),E(e,"class","modal-body svelte-1mw0zyv"),E(n,"class","modal svelte-1mw0zyv"),E(n,"id",t[1])},m(t,u){b(t,n,u),y(n,e),y(e,o),d&&d.m(o,null),y(e,r),y(e,s),g&&g.m(s,null),y(e,i),y(e,c),q&&q.m(c,null),a=!0},p(t,[e]){l?l.p&&(!a||16&e)&&m(l,u,t,t[4],a?p(u,t[4],e,kt):$(t[4]),Ct):d&&d.p&&(!a||1&e)&&d.p(t,a?e:-1),g&&g.p&&(!a||16&e)&&m(g,h,t,t[4],a?p(h,t[4],e,null):$(t[4]),null),w?w.p&&(!a||16&e)&&m(w,v,t,t[4],a?p(v,t[4],e,xt):$(t[4]),_t):q&&q.p&&(!a||2&e)&&q.p(t,a?e:-1),(!a||2&e)&&E(n,"id",t[1])},i(t){a||(st(d,t),st(g,t),st(q,t),a=!0)},o(t){it(d,t),it(g,t),it(q,t),a=!1},d(t){t&&x(n),d&&d.d(t),g&&g.d(t),q&&q.d(t)}}}function St(t,n,e){let{$$slots:o={},$$scope:r}=n,{title:s=""}=n,{open:i=!1}=n,{id:c=""}=n;const a=O();var u;return u=()=>{i?function(){const t=document.getElementById(c);t?"block"!==t.style.display&&(t.style.display="block",a("shown",{})):console.warn("Modal for id "+c+" does not exist")}():function(){const t=document.getElementById(c);t?"none"!==t.style.display&&(a("closed",{}),t.style.display="none"):console.warn("Modal for id "+c+" does not exist")}()},I().$$.after_update.push(u),t.$$set=t=>{"title"in t&&e(0,s=t.title),"open"in t&&e(3,i=t.open),"id"in t&&e(1,c=t.id),"$$scope"in t&&e(4,r=t.$$scope)},[s,c,function(){e(3,i=!1)},i,r,o]}const Et=class extends pt{constructor(t){super(),dt(this,t,St,qt,i,{title:0,open:3,id:1})}};function Rt(t,n,e){const o=t.slice();return o[4]=n[e],o}function Pt(t){let n,e=t[0],o=[];for(let n=0;n<e.length;n+=1)o[n]=Nt(Rt(t,e,n));return{c(){n=_("ul");for(let t=0;t<o.length;t+=1)o[t].c();E(n,"class","wifi-networks-list svelte-1pkh0sr")},m(t,e){b(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,r){if(3&r){let s;for(e=t[0],s=0;s<e.length;s+=1){const i=Rt(t,e,s);o[s]?o[s].p(i,r):(o[s]=Nt(i),o[s].c(),o[s].m(n,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=e.length}},d(t){t&&x(n),function(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}(o,t)}}}function Tt(n){let e;return{c(){e=_("p"),e.textContent="No wifi networks available."},m(t,n){b(t,e,n)},p:t,d(t){t&&x(e)}}}function Nt(t){let n,e,o,r,s,i=t[4].ssid+"";function c(){return t[2](t[4])}return{c(){n=_("li"),e=k(i),o=C(),E(n,"class","svelte-1pkh0sr")},m(t,i){b(t,n,i),y(n,e),y(n,o),r||(s=S(n,"click",c),r=!0)},p(n,o){t=n,1&o&&i!==(i=t[4].ssid+"")&&P(e,i)},d(t){t&&x(n),r=!1,s()}}}function At(n){let e;function o(t,n){return 0==t[0].length?Tt:Pt}let r=o(n),s=r(n);return{c(){e=_("div"),s.c(),E(e,"class","wifi-list-container")},m(t,n){b(t,e,n),s.m(e,null)},p(t,[n]){r===(r=o(t))&&s?s.p(t,n):(s.d(1),s=r(t),s&&(s.c(),s.m(e,null)))},i:t,o:t,d(t){t&&x(e),s.d()}}}function It(t,n,e){let{networks:o=[]}=n;const r=O();function s(t){r("network",t)}return t.$$set=t=>{"networks"in t&&e(0,o=t.networks)},[o,s,t=>s(t)]}const Lt=class extends pt{constructor(t){super(),dt(this,t,It,At,i,{networks:0})}};function Ft(t){let n,e;return n=new Lt({props:{networks:t[2]}}),n.$on("network",t[4]),{c(){ut(n.$$.fragment)},m(t,o){lt(n,t,o),e=!0},p(t,e){const o={};4&e&&(o.networks=t[2]),n.$set(o)},i(t){e||(st(n.$$.fragment,t),e=!0)},o(t){it(n.$$.fragment,t),e=!1},d(t){ft(n,t)}}}function Ot(n){let e,o;return e=new ht({}),{c(){ut(e.$$.fragment)},m(t,n){lt(e,t,n),o=!0},p:t,i(t){o||(st(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){ft(e,t)}}}function Mt(t){let n,e,o,r;const s=[Ot,Ft],i=[];function c(t,n){return t[1]?0:1}return n=c(t),e=i[n]=s[n](t),{c(){e.c(),o=q()},m(t,e){i[n].m(t,e),b(t,o,e),r=!0},p(t,r){let a=n;n=c(t),n===a?i[n].p(t,r):(ot(),it(i[a],1,1,(()=>{i[a]=null})),rt(),e=i[n],e?e.p(t,r):(e=i[n]=s[n](t),e.c()),st(e,1),e.m(o.parentNode,o))},i(t){r||(st(e),r=!0)},o(t){it(e),r=!1},d(t){i[n].d(t),t&&x(o)}}}function jt(t){let n,e,o;function r(n){t[5](n)}let s={id:"wifi-modal",title:"WiFi Networks",$$slots:{default:[Mt]},$$scope:{ctx:t}};return void 0!==t[0]&&(s.open=t[0]),n=new Et({props:s}),W.push((()=>at(n,"open",r))),n.$on("shown",t[3]),{c(){ut(n.$$.fragment)},m(t,e){lt(n,t,e),o=!0},p(t,[o]){const r={};262&o&&(r.$$scope={dirty:o,ctx:t}),!e&&1&o&&(e=!0,r.open=t[0],G((()=>e=!1))),n.$set(r)},i(t){o||(st(n.$$.fragment,t),o=!0)},o(t){it(n.$$.fragment,t),o=!1},d(t){ft(n,t)}}}function Ut(t,n,e){let{open:o=!1}=n;const r=O();let s=!1,i=[];return t.$$set=t=>{"open"in t&&e(0,o=t.open)},[o,s,i,function(){console.log("onshown"),async function(){console.log("loadWifiNEtworks()"),e(1,s=!0);let t=await async function(){let t=[],n=!0,e=0;for(;n;){try{const e=await fetch("/api/available-networks");202==e.status||204==e.status?await mt(5e3):(console.log("Do you ever get here???"),t=await e.json(),n=!1)}catch(t){console.error(t),await mt(5e3)}e++,e>=10&&(n=!1)}return console.log("so why not here?"),t}();t=t.filter((t=>""!=t.ssid)),e(2,i=t),e(1,s=!1)}()},function(t){r("network",t.detail),e(0,o=!1)},function(t){o=t,e(0,o)}]}const Wt=class extends pt{constructor(t){super(),dt(this,t,Ut,jt,i,{open:0})}},zt=[];function Ht(n,e=t){let o;const r=new Set;function s(t){if(i(n,t)&&(n=t,o)){const t=!zt.length;for(const t of r)t[1](),zt.push(t,n);if(t){for(let t=0;t<zt.length;t+=2)zt[t][0](zt[t+1]);zt.length=0}}}return{set:s,update:function(t){s(t(n))},subscribe:function(i,c=t){const a=[i,c];return r.add(a),1===r.size&&(o=e(s)||t),i(n),()=>{r.delete(a),0===r.size&&(o(),o=null)}}}}const Dt=t=>`@@svnav-ctx__${t}`,Bt=Dt("LOCATION"),Qt=Dt("ROUTER"),Yt=Dt("ROUTE"),Vt=Dt("ROUTE_PARAMS"),Gt=Dt("FOCUS_ELEM"),Jt=/^:(.+)/,Kt=(t,n)=>t.substr(0,n.length)===n,Xt=t=>"*"===t[0],Zt=t=>t.replace(/(^\/+|\/+$)/g,"");function tn(t,n=!1){const e=Zt(t).split("/");return n?e.filter(Boolean):e}const nn=(t,n)=>t+(n?`?${n}`:""),en=t=>`/${Zt(t)}`;function on(...t){const n=t.map((t=>tn(t,!0).join("/"))).join("/");return en(n)}const rn=t=>void 0===t,sn=t=>"number"==typeof t;function cn(){let t=0;return()=>t++}const an="undefined"==typeof window;function un(t,n,e){return t.addEventListener(n,e),()=>t.removeEventListener(n,e)}const ln={1:"Link",2:"Route",3:"Router",4:"useFocus",5:"useLocation",6:"useMatch",7:"useNavigate",8:"useParams",9:"useResolvable",10:"useResolve",11:"navigate"},fn=t=>ln[t];const dn=t=>(...n)=>t(function(t,n,e,o){const r=e&&function(t,n){let e;return 2===t?e=n.path?`path="${n.path}"`:"default":1===t?e=`to="${n.to}"`:3===t&&(e=`basepath="${n.basepath||""}"`),`<${fn(t)} ${e||""} />`}(o||t,e),s=r?`\n\nOccurred in: ${r}`:"",i=fn(t);return`<${i}> ${"function"==typeof n?n(i):n}${s}`}(...n)),pn=dn((t=>{throw new Error(t)})),mn=dn(console.warn);function $n(t,n){return{route:t,score:t.default?0:tn(t.fullPath).reduce(((t,n)=>{let e=t;return e+=4,(t=>""===t)(n)?e+=1:(t=>Jt.test(t))(n)?e+=2:Xt(n)?e-=5:e+=3,e}),0),index:n}}function hn(t,n){let e,o;const[r]=n.split("?"),s=tn(r),i=""===s[0],c=function(t){return t.map($n).sort(((t,n)=>t.score<n.score?1:t.score>n.score?-1:t.index-n.index))}(t);for(let t=0,r=c.length;t<r;t++){const{route:r}=c[t];let a=!1;const u={},l=t=>({...r,params:u,uri:t});if(r.default){o=l(n);continue}const f=tn(r.fullPath),d=Math.max(s.length,f.length);let p=0;for(;p<d;p++){const t=f[p],n=s[p];if(!rn(t)&&Xt(t)){const n="*"===t?"*":t.slice(1);u[n]=s.slice(p).map(decodeURIComponent).join("/");break}if(rn(n)){a=!0;break}const e=Jt.exec(t);if(e&&!i){const t=decodeURIComponent(n);u[e[1]]=t}else if(t!==n){a=!0;break}}if(!a){e=l(on(...s.slice(0,p)));break}}return e||o||null}function gn(t,n){return hn([t],n)}function vn(t,n){const{pathname:e,hash:o="",search:r="",state:s}=t,i=tn(n,!0),c=tn(e,!0);for(;i.length;)i[0]!==c[0]&&pn(3,`Invalid state: All locations must begin with the basepath "${n}", found "${e}"`),i.shift(),c.shift();return{pathname:on(...c),hash:o,search:r,state:s}}const wn=t=>1===t.length?"":t;function yn(t){const n=t.indexOf("?"),e=t.indexOf("#"),o=-1!==n,r=-1!==e,s=r?wn(t.substr(e)):"",i=r?t.substr(0,e):t,c=o?wn(i.substr(n)):"";return{pathname:o?i.substr(0,n):i,search:c,hash:s}}function bn(t,n){const e=en(t.replace(/\*.*$/,"")),o=tn(e,!0),r=gn({fullPath:e},on(...tn(n,!0).slice(0,o.length)));return r&&r.uri}function xn(t,n,e=Qt,o=3){j(e)||pn(t,(t=>`You cannot use ${t} outside of a ${fn(o)}.`),n)}function _n(){return xn(5),(t=>{const{subscribe:n}=j(t);return{subscribe:n}})(Bt)}function kn(){const n=j(Yt);return n?function(n,e,o){const i=!Array.isArray(n),c=i?[n]:n,u=e.length<2;return{subscribe:Ht(o,(n=>{let o=!1;const l=[];let f=0,d=t;const p=()=>{if(f)return;d();const o=e(i?l[0]:l,n);u?n(o):d=s(o)?o:t},m=c.map(((t,n)=>a(t,(t=>{l[n]=t,f&=~(1<<n),o&&p()}),(()=>{f|=1<<n}))));return o=!0,p(),function(){r(m),d()}})).subscribe}}(n,(t=>t.base)):Ht("/")}function Cn(){xn(10);const t=kn(),{basepath:n}=j(Qt);return e=>function(t,n,e){return on(e,function(t,n){if(Kt(t,"/"))return t;const[e,o]=t.split("?"),[r]=n.split("?"),s=tn(e),i=tn(r);if(""===s[0])return nn(r,o);if(!Kt(s[0],".")){const t=i.concat(s).join("/");return nn(("/"===r?"":"/")+t,o)}const c=i.concat(s),a=[];return c.forEach((t=>{".."===t?a.pop():"."!==t&&a.push(t)})),nn(`/${a.join("/")}`,o)}(t,n))}(e,u(t),n)}function qn(n){let e,o,s,i,c,a,u,l,f,d,p,m,$;return{c(){e=_("button"),e.textContent="Scan for Networks",o=C(),s=_("div"),i=_("label"),i.textContent="SSID",c=C(),a=_("input"),u=C(),l=_("div"),f=_("label"),f.textContent="Password",d=C(),p=_("input"),E(e,"id","scan_wifi"),E(e,"type","button"),E(i,"for","wifi_ssid"),E(a,"id","wifi_ssid"),a.required=!0,E(s,"class","form-group"),E(f,"for","wifi_password"),E(p,"id","wifi_password"),E(p,"type","password"),E(l,"class","form-group")},m(t,r){b(t,e,r),b(t,o,r),b(t,s,r),y(s,i),y(s,c),y(s,a),T(a,n[2].wifi_ssid),b(t,u,r),b(t,l,r),y(l,f),y(l,d),y(l,p),T(p,n[2].wifi_password),m||($=[S(e,"click",n[5]),S(a,"input",n[8]),S(p,"input",n[9])],m=!0)},p(t,n){4&n&&a.value!==t[2].wifi_ssid&&T(a,t[2].wifi_ssid),4&n&&p.value!==t[2].wifi_password&&T(p,t[2].wifi_password)},i:t,o:t,d(t){t&&x(e),t&&x(o),t&&x(s),t&&x(u),t&&x(l),m=!1,r($)}}}function Sn(n){let e,o;return e=new ht({}),{c(){ut(e.$$.fragment)},m(t,n){lt(e,t,n),o=!0},p:t,i(t){o||(st(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){ft(e,t)}}}function En(t){let n,e,o,r,s,i,c,a,u,l,f,d,p,m,$,h,g,v=t[1]?"Loading":"Save";function w(n){t[7](n)}let q={};void 0!==t[0]&&(q.open=t[0]),n=new Wt({props:q}),W.push((()=>at(n,"open",w))),n.$on("network",t[6]);const R=[Sn,qn],T=[];function N(t,n){return t[1]?0:1}return a=N(t),u=T[a]=R[a](t),{c(){ut(n.$$.fragment),o=C(),r=_("form"),s=_("fieldset"),i=_("legend"),i.textContent="WiFi Settings",c=C(),u.c(),l=C(),f=_("button"),d=k(v),p=C(),m=_("p"),m.textContent="Remember, after saving you must restart the weather station.",E(s,"registerfocus",t[3]),E(f,"type","submit"),f.disabled=t[1],E(r,"id","wifi-form")},m(e,u){lt(n,e,u),b(e,o,u),b(e,r,u),y(r,s),y(s,i),y(s,c),T[a].m(s,null),y(r,l),y(r,f),y(f,d),y(r,p),y(r,m),$=!0,h||(g=S(r,"submit",t[4]),h=!0)},p(t,[o]){const r={};!e&&1&o&&(e=!0,r.open=t[0],G((()=>e=!1))),n.$set(r);let i=a;a=N(t),a===i?T[a].p(t,o):(ot(),it(T[i],1,1,(()=>{T[i]=null})),rt(),u=T[a],u?u.p(t,o):(u=T[a]=R[a](t),u.c()),st(u,1),u.m(s,null)),(!$||2&o)&&v!==(v=t[1]?"Loading":"Save")&&P(d,v),(!$||2&o)&&(f.disabled=t[1])},i(t){$||(st(n.$$.fragment,t),st(u),$=!0)},o(t){it(n.$$.fragment,t),it(u),$=!1},d(t){ft(n,t),t&&x(o),t&&x(r),T[a].d(),h=!1,g()}}}function Rn(t,n,e){const o=function(){xn(4,null,Yt,2);const t=_n(),n=j(Gt);let e;return F(t.subscribe((()=>{const t=new Promise((t=>{e=t}));n.set(t)}))),n=>{let o=!1;const r=t.subscribe((()=>{Y().then((()=>{o||e(n)}))}));return{destroy(){o=!0,r()}}}}();let r=!1,s=!1,i={wifi_ssid:"",wifi_password:""};return L((async()=>{e(1,s=!0),e(2,i=await async function(){const t=await fetch("/api/wifi-settings");return await t.json()}()),e(1,s=!1)})),[r,s,i,o,async function(t){t.preventDefault(),async function(t){const n=new URLSearchParams(t);await fetch("/api/wifi-settings",{method:"POST",body:n,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}})}(i)},async function(){e(0,r=!0)},function(t){e(2,i.wifi_ssid=t.detail.ssid,i)},function(t){r=t,e(0,r)},function(){i.wifi_ssid=this.value,e(2,i)},function(){i.wifi_password=this.value,e(2,i)}]}const Pn=class extends pt{constructor(t){super(),dt(this,t,Rn,En,i,{})}},Tn="POP";function Nn(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function An(t,n){return{...yn(n),state:t}}const In=!(an||!window.document||!window.document.createElement),Ln=!an&&"null"===window.location.origin,Fn=function(t){let n=[],e=Nn(t),o=Tn;const r=(t=n)=>t.forEach((t=>t({location:e,action:o})));return{get location(){return e},listen(s){n.push(s),r([s]);const i=un(t,"popstate",(()=>{e=Nn(t),o=Tn,r([s])}));return()=>{i(),n=n.filter((t=>t!==s))}},navigate(n,s){const{state:i={},replace:c=!1}=s||{};if(o=c?"REPLACE":"PUSH",sn(n))s&&mn(11,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),o=Tn,t.history.go(n);else{const e={...i,_key:Math.random().toString(36).substring(2)};try{t.history[c?"replaceState":"pushState"](e,"",n)}catch(e){t.location[c?"replace":"assign"](n)}}e=Nn(t),r()}}}(In&&!Ln?window:function(t="/"){let n=0,e=[An(null,t)];return{get entries(){return e},get location(){return e[n]},addEventListener(){},removeEventListener(){},history:{get state(){return e[n].state},pushState(t,o,r){n++,e=e.slice(0,n),e.push(An(t,r))},replaceState(t,o,r){e[n]=An(t,r)},go(t){const o=n+t;o<0||o>e.length-1||(n=o)}}}}()),{navigate:On}=Fn;let Mn=null,jn=!0;function Un(t){if(!t)return!1;const n="tabindex";try{if(!t.hasAttribute(n)){let e;t.setAttribute(n,"-1");const o=()=>{t.removeAttribute(n),e()};e=un(t,"blur",o)}return t.focus(),document.activeElement===t}catch(t){return!1}}function Wn(t,n){return Number(t.dataset.svnavRouteEnd)===n}function zn(t,n=document){return n.querySelector(t)}const Hn=(t,n,e)=>(o,r)=>Y().then((()=>{if(Mn&&!jn){if(o&&(s=Mn.route,Promise.resolve(u(s.focusElement)).then((t=>{const n=t||function(t){let n=zn(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!Wn(n,t);){if(/^H[1-6]$/i.test(n.tagName))return n;const t=zn("h1,h2,h3,h4,h5,h6",n);if(t)return t;n=n.nextElementSibling}return null}(s.id);n||mn(3,'Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don\'t want this Route or Router to manage focus, pass "primary={false}" to it.',s,2),Un(n)||Un(document.documentElement)}))),t.announcements&&r){const{path:o,fullPath:r,meta:s,params:i,uri:c}=Mn.route,a=t.createAnnouncement({path:o,fullPath:r,meta:s,params:i,uri:c},u(e));Promise.resolve(a).then((t=>{n.set(t)}))}Mn=null}else jn=!1;var s}));function Dn(t){let n,e,o,r,s;const i=t[20].default,c=f(i,t,t[19],null);let a=t[2]&&t[4]&&t[1].announcements&&function(t){let n,e;return{c(){n=_("div"),e=k(t[0]),E(n,"role","status"),E(n,"aria-atomic","true"),E(n,"aria-live","polite"),E(n,"style","position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;")},m(t,o){b(t,n,o),y(n,e)},p(t,n){1&n[0]&&P(e,t[0])},d(t){t&&x(n)}}}(t);return{c(){n=_("div"),e=C(),c&&c.c(),o=C(),a&&a.c(),r=q(),N(n,"display","none"),E(n,"aria-hidden","true"),E(n,"data-svnav-router",t[3])},m(t,i){b(t,n,i),b(t,e,i),c&&c.m(t,i),b(t,o,i),a&&a.m(t,i),b(t,r,i),s=!0},p(t,n){c&&c.p&&(!s||524288&n[0])&&m(c,i,t,t[19],s?p(i,t[19],n,null):$(t[19]),null),t[2]&&t[4]&&t[1].announcements&&a.p(t,n)},i(t){s||(st(c,t),s=!0)},o(t){it(c,t),s=!1},d(t){t&&x(n),t&&x(e),c&&c.d(t),t&&x(o),a&&a.d(t),t&&x(r)}}}const Bn=cn(),Qn="/";function Yn(t,n,e){let o,r,s,i,c,{$$slots:a={},$$scope:u}=n,{basepath:f=Qn}=n,{url:d=null}=n,{history:p=Fn}=n,{primary:m=!0}=n,{a11y:$={}}=n;const h={createAnnouncement:t=>`Navigated to ${t.uri}`,announcements:!0,...$},g=f,v=en(f),w=j(Bt),y=j(Qt),b=!w,x=Bn(),_=m&&!(y&&!y.manageFocus),k=Ht("");l(t,k,(t=>e(0,c=t)));const C=Ht([]);l(t,C,(t=>e(18,i=t)));const q=Ht(null);l(t,q,(t=>e(16,r=t)));let S=!1;const E=b?0:y.level+1,R=b?Ht(vn(an?yn(d):p.location,v)):w;l(t,R,(t=>e(15,o=t)));const P=Ht(o);l(t,P,(t=>e(17,s=t)));const T=Hn(h,k,R),N=t=>n=>n.filter((n=>n.id!==t));return b||f===Qn||mn(3,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:f}),b&&(L((()=>p.listen((t=>{const n=vn(t.location,v);P.set(o),R.set(n)})))),M(Bt,R)),M(Qt,{activeRoute:q,registerRoute:function(t){if(an){if(S)return;const n=gn(t,o.pathname);if(n)return S=!0,n}else C.update((n=>{const e=N(t.id)(n);return e.push(t),e}))},unregisterRoute:function(t){C.update(N(t))},manageFocus:_,level:E,id:x,history:b?p:y.history,basepath:b?v:y.basepath}),t.$$set=t=>{"basepath"in t&&e(10,f=t.basepath),"url"in t&&e(11,d=t.url),"history"in t&&e(12,p=t.history),"primary"in t&&e(13,m=t.primary),"a11y"in t&&e(14,$=t.a11y),"$$scope"in t&&e(19,u=t.$$scope)},t.$$.update=()=>{if(1024&t.$$.dirty[0]&&f!==g&&mn(3,'You cannot change the "basepath" prop. It is ignored.'),294912&t.$$.dirty[0]){const t=hn(i,o.pathname);q.set(t)}if(163840&t.$$.dirty[0]&&b){const t=!!o.hash,n=!t&&_,e=!t||o.pathname!==s.pathname;T(n,e)}var n;65536&t.$$.dirty[0]&&_&&r&&r.primary&&(n={level:E,routerId:x,route:r},(!Mn||n.level>Mn.level||n.level===Mn.level&&function(t,n){const e=document.querySelectorAll("[data-svnav-router]");for(let o=0;o<e.length;o++){const r=e[o],s=Number(r.dataset.svnavRouter);if(s===t)return!0;if(s===n)return!1}return!1}(n.routerId,Mn.routerId))&&(Mn=n))},[c,h,b,x,_,k,C,q,R,P,f,d,p,m,$,o,r,s,i,u,a]}const Vn=class extends pt{constructor(t){super(),dt(this,t,Yn,Dn,i,{basepath:10,url:11,history:12,primary:13,a11y:14},null,[-1,-1])}},Gn=t=>({params:16&t,location:8&t}),Jn=t=>({params:an?u(t[9]):t[4],location:t[3],navigate:t[10]});function Kn(t){let n,e;return n=new Vn({props:{primary:t[1],$$slots:{default:[te]},$$scope:{ctx:t}}}),{c(){ut(n.$$.fragment)},m(t,o){lt(n,t,o),e=!0},p(t,e){const o={};2&e&&(o.primary=t[1]),264217&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){e||(st(n.$$.fragment,t),e=!0)},o(t){it(n.$$.fragment,t),e=!1},d(t){ft(n,t)}}}function Xn(t){let n;const e=t[17].default,o=f(e,t,t[18],Jn);return{c(){o&&o.c()},m(t,e){o&&o.m(t,e),n=!0},p(t,r){o&&o.p&&(!n||262168&r)&&m(o,e,t,t[18],n?p(e,t[18],r,Gn):$(t[18]),Jn)},i(t){n||(st(o,t),n=!0)},o(t){it(o,t),n=!1},d(t){o&&o.d(t)}}}function Zn(t){let e,o,r;const s=[{location:t[3]},{navigate:t[10]},an?u(t[9]):t[4],t[11]];var i=t[0];function c(t){let e={};for(let t=0;t<s.length;t+=1)e=n(e,s[t]);return{props:e}}return i&&(e=new i(c())),{c(){e&&ut(e.$$.fragment),o=q()},m(t,n){e&&lt(e,t,n),b(t,o,n),r=!0},p(t,n){const r=3608&n?function(t,n){const e={},o={},r={$$scope:1};let s=t.length;for(;s--;){const i=t[s],c=n[s];if(c){for(const t in i)t in c||(o[t]=1);for(const t in c)r[t]||(e[t]=c[t],r[t]=1);t[s]=c}else for(const t in i)r[t]=1}for(const t in o)t in e||(e[t]=void 0);return e}(s,[8&n&&{location:t[3]},1024&n&&{navigate:t[10]},528&n&&ct(an?u(t[9]):t[4]),2048&n&&ct(t[11])]):{};if(i!==(i=t[0])){if(e){ot();const t=e;it(t.$$.fragment,1,0,(()=>{ft(t,1)})),rt()}i?(e=new i(c()),ut(e.$$.fragment),st(e.$$.fragment,1),lt(e,o.parentNode,o)):e=null}else i&&e.$set(r)},i(t){r||(e&&st(e.$$.fragment,t),r=!0)},o(t){e&&it(e.$$.fragment,t),r=!1},d(t){t&&x(o),e&&ft(e,t)}}}function te(t){let n,e,o,r;const s=[Zn,Xn],i=[];function c(t,n){return null!==t[0]?0:1}return n=c(t),e=i[n]=s[n](t),{c(){e.c(),o=q()},m(t,e){i[n].m(t,e),b(t,o,e),r=!0},p(t,r){let a=n;n=c(t),n===a?i[n].p(t,r):(ot(),it(i[a],1,1,(()=>{i[a]=null})),rt(),e=i[n],e?e.p(t,r):(e=i[n]=s[n](t),e.c()),st(e,1),e.m(o.parentNode,o))},i(t){r||(st(e),r=!0)},o(t){it(e),r=!1},d(t){i[n].d(t),t&&x(o)}}}function ne(t){let n,e,o,r,s,i=t[2]&&Kn(t);return{c(){n=_("div"),e=C(),i&&i.c(),o=C(),r=_("div"),N(n,"display","none"),E(n,"aria-hidden","true"),E(n,"data-svnav-route-start",t[5]),N(r,"display","none"),E(r,"aria-hidden","true"),E(r,"data-svnav-route-end",t[5])},m(t,c){b(t,n,c),b(t,e,c),i&&i.m(t,c),b(t,o,c),b(t,r,c),s=!0},p(t,[n]){t[2]?i?(i.p(t,n),4&n&&st(i,1)):(i=Kn(t),i.c(),st(i,1),i.m(o.parentNode,o)):i&&(ot(),it(i,1,1,(()=>{i=null})),rt())},i(t){s||(st(i),s=!0)},o(t){it(i),s=!1},d(t){t&&x(n),t&&x(e),i&&i.d(t),t&&x(o),t&&x(r)}}}const ee=cn();function oe(t,e,o){let r;const s=["path","component","meta","primary"];let i,c,a,u,f=g(e,s),{$$slots:d={},$$scope:p}=e,{path:m=""}=e,{component:$=null}=e,{meta:v={}}=e,{primary:w=!0}=e;xn(2,e);const y=ee(),{registerRoute:b,unregisterRoute:x,activeRoute:_}=j(Qt);l(t,_,(t=>o(15,i=t)));const k=kn();l(t,k,(t=>o(16,a=t)));const C=_n();l(t,C,(t=>o(3,c=t)));const q=Ht(null);let S;const E=Ht(),R=Ht({});l(t,R,(t=>o(4,u=t))),M(Yt,E),M(Vt,R),M(Gt,q);const P=function(){xn(7);const t=Cn(),{navigate:n}=function(){const{history:t}=j(Qt);return t}();return(e,o)=>{const r=sn(e)?e:t(e);return n(r,o)}}();return an||F((()=>x(y))),t.$$set=t=>{o(23,e=n(n({},e),h(t))),o(11,f=g(e,s)),"path"in t&&o(12,m=t.path),"component"in t&&o(0,$=t.component),"meta"in t&&o(13,v=t.meta),"primary"in t&&o(1,w=t.primary),"$$scope"in t&&o(18,p=t.$$scope)},t.$$.update=()=>{if(77834&t.$$.dirty){const t=""===m,n=on(a,m),e={id:y,path:m,meta:v,default:t,fullPath:t?"":n,base:t?a:bn(n,c.pathname),primary:w,focusElement:q};E.set(e),o(14,S=b(e))}if(49152&t.$$.dirty&&o(2,r=!!(S||i&&i.id===y)),49156&t.$$.dirty&&r){const{params:t}=S||i;R.set(t)}},e=h(e),[$,w,r,c,u,y,_,k,C,R,P,f,m,v,S,i,a,d,p]}const re=class extends pt{constructor(t){super(),dt(this,t,oe,ne,i,{path:12,component:0,meta:13,primary:1})}};function se(t){let n,e,o,r,s,i,c,a,u,l,f,d;const p=[ae,ce],m=[];function $(t,n){return t[1]?0:1}return a=$(t),u=m[a]=p[a](t),{c(){n=_("section"),e=_("h1"),e.textContent="Psikon Weather Station",o=C(),r=_("p"),r.textContent="Version: 0.0.1",s=C(),i=_("hr"),c=C(),u.c(),E(n,"class","container text-center svelte-1ecrfym")},m(u,p){b(u,n,p),y(n,e),y(n,o),y(n,r),y(n,s),y(n,i),y(n,c),m[a].m(n,null),l=!0,f||(d=S(e,"click",t[5]("")),f=!0)},p(t,e){let o=a;a=$(t),a===o?m[a].p(t,e):(ot(),it(m[o],1,1,(()=>{m[o]=null})),rt(),u=m[a],u?u.p(t,e):(u=m[a]=p[a](t),u.c()),st(u,1),u.m(n,null))},i(t){l||(st(u),l=!0)},o(t){it(u),l=!1},d(t){t&&x(n),m[a].d(),f=!1,d()}}}function ie(n){let e,o,r,s,i,c,a,u;return{c(){e=_("section"),o=_("h1"),o.textContent="Server Restarted",r=C(),s=_("p"),s.textContent="The server has been restarted. If the wifi settings have changed, then the IP address of your server may have changed as well.",i=C(),c=_("button"),c.textContent="Reload",E(c,"type","button"),E(e,"class","container svelte-1ecrfym")},m(t,n){b(t,e,n),y(e,o),y(e,r),y(e,s),y(e,i),y(e,c),a||(u=S(c,"click",ve),a=!0)},p:t,i:t,o:t,d(t){t&&x(e),a=!1,u()}}}function ce(t){let n,e,o,r,s,i=t[2].wifiFailed&&ue(),c=t[2].mqttFailed&&le(),a=!t[2].hasWifiConfig&&fe();return r=new Vn({props:{$$slots:{default:[he]},$$scope:{ctx:t}}}),{c(){i&&i.c(),n=C(),c&&c.c(),e=C(),a&&a.c(),o=C(),ut(r.$$.fragment)},m(t,u){i&&i.m(t,u),b(t,n,u),c&&c.m(t,u),b(t,e,u),a&&a.m(t,u),b(t,o,u),lt(r,t,u),s=!0},p(t,s){t[2].wifiFailed?i||(i=ue(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),t[2].mqttFailed?c||(c=le(),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),t[2].hasWifiConfig?a&&(a.d(1),a=null):a||(a=fe(),a.c(),a.m(o.parentNode,o));const u={};128&s&&(u.$$scope={dirty:s,ctx:t}),r.$set(u)},i(t){s||(st(r.$$.fragment,t),s=!0)},o(t){it(r.$$.fragment,t),s=!1},d(t){i&&i.d(t),t&&x(n),c&&c.d(t),t&&x(e),a&&a.d(t),t&&x(o),ft(r,t)}}}function ae(n){let e,o;return e=new ht({}),{c(){ut(e.$$.fragment)},m(t,n){lt(e,t,n),o=!0},p:t,i(t){o||(st(e.$$.fragment,t),o=!0)},o(t){it(e.$$.fragment,t),o=!1},d(t){ft(e,t)}}}function ue(t){let n;return{c(){n=_("div"),n.textContent="The WiFi connection has failed.",E(n,"class","warning-container")},m(t,e){b(t,n,e)},d(t){t&&x(n)}}}function le(t){let n;return{c(){n=_("div"),n.textContent="The MQTT connection has failed.",E(n,"class","warning-container")},m(t,e){b(t,n,e)},d(t){t&&x(n)}}}function fe(t){let n;return{c(){n=_("div"),n.textContent="No WiFi configuration found.",E(n,"class","warning-container")},m(t,e){b(t,n,e)},d(t){t&&x(n)}}}function de(t){let n;return{c(){n=_("h1"),n.textContent="Sensors"},m(t,e){b(t,n,e)},d(t){t&&x(n)}}}function pe(t){let n,e;return n=new Pn({}),{c(){ut(n.$$.fragment)},m(t,o){lt(n,t,o),e=!0},i(t){e||(st(n.$$.fragment,t),e=!0)},o(t){it(n.$$.fragment,t),e=!1},d(t){ft(n,t)}}}function me(t){let n,e;return n=new bt({}),{c(){ut(n.$$.fragment)},m(t,o){lt(n,t,o),e=!0},i(t){e||(st(n.$$.fragment,t),e=!0)},o(t){it(n.$$.fragment,t),e=!1},d(t){ft(n,t)}}}function $e(n){let e,o,s,i,c,a,u,l,f,d,p,m,$,h,g,v,w;return{c(){e=_("h3"),e.textContent="Choose a Section:",o=C(),s=_("button"),s.textContent="View Sensor",i=_("br"),c=C(),a=_("button"),a.textContent="WiFi Settings",u=_("br"),l=C(),f=_("button"),f.textContent="MQTT Settings",d=_("br"),p=C(),m=_("button"),m.textContent="Restart Server",$=_("br"),h=C(),g=_("button"),g.textContent="Reset All Configuration",E(s,"type","button"),E(a,"type","button"),E(f,"type","button"),E(m,"type","button"),E(g,"type","button")},m(t,r){b(t,e,r),b(t,o,r),b(t,s,r),b(t,i,r),b(t,c,r),b(t,a,r),b(t,u,r),b(t,l,r),b(t,f,r),b(t,d,r),b(t,p,r),b(t,m,r),b(t,$,r),b(t,h,r),b(t,g,r),v||(w=[S(s,"click",n[5]("sensors")),S(a,"click",n[5]("wifi-form")),S(f,"click",n[5]("mqtt-form")),S(m,"click",n[3]),S(g,"click",n[4])],v=!0)},p:t,d(t){t&&x(e),t&&x(o),t&&x(s),t&&x(i),t&&x(c),t&&x(a),t&&x(u),t&&x(l),t&&x(f),t&&x(d),t&&x(p),t&&x(m),t&&x($),t&&x(h),t&&x(g),v=!1,r(w)}}}function he(t){let n,e,o,r,s,i,c,a;return n=new re({props:{path:"/sensors",$$slots:{default:[de]},$$scope:{ctx:t}}}),o=new re({props:{path:"/wifi-form",$$slots:{default:[pe]},$$scope:{ctx:t}}}),s=new re({props:{path:"/mqtt-form",$$slots:{default:[me]},$$scope:{ctx:t}}}),c=new re({props:{$$slots:{default:[$e]},$$scope:{ctx:t}}}),{c(){ut(n.$$.fragment),e=C(),ut(o.$$.fragment),r=C(),ut(s.$$.fragment),i=C(),ut(c.$$.fragment)},m(t,u){lt(n,t,u),b(t,e,u),lt(o,t,u),b(t,r,u),lt(s,t,u),b(t,i,u),lt(c,t,u),a=!0},p(t,e){const r={};128&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const i={};128&e&&(i.$$scope={dirty:e,ctx:t}),o.$set(i);const a={};128&e&&(a.$$scope={dirty:e,ctx:t}),s.$set(a);const u={};128&e&&(u.$$scope={dirty:e,ctx:t}),c.$set(u)},i(t){a||(st(n.$$.fragment,t),st(o.$$.fragment,t),st(s.$$.fragment,t),st(c.$$.fragment,t),a=!0)},o(t){it(n.$$.fragment,t),it(o.$$.fragment,t),it(s.$$.fragment,t),it(c.$$.fragment,t),a=!1},d(t){ft(n,t),t&&x(e),ft(o,t),t&&x(r),ft(s,t),t&&x(i),ft(c,t)}}}function ge(t){let n,e,o,r;const s=[ie,se],i=[];function c(t,n){return t[0]?0:1}return e=c(t),o=i[e]=s[e](t),{c(){n=_("main"),o.c(),E(n,"class","svelte-1ecrfym")},m(t,o){b(t,n,o),i[e].m(n,null),r=!0},p(t,[r]){let a=e;e=c(t),e===a?i[e].p(t,r):(ot(),it(i[a],1,1,(()=>{i[a]=null})),rt(),o=i[e],o?o.p(t,r):(o=i[e]=s[e](t),o.c()),st(o,1),o.m(n,null))},i(t){r||(st(o),r=!0)},o(t){it(o),r=!1},d(t){t&&x(n),i[e].d()}}}function ve(){window.location.reload()}function we(t,n,e){let o=!1,r=!0,s={ipAddr:"0.0.0.0",wifiFailed:!1,mqttFailed:!1,hasWifiConfig:!1};return L((()=>{!async function(){e(1,r=!0),e(2,s=await async function(){const t=await fetch("/api/status");return await t.json()}()),e(1,r=!1)}()})),[o,r,s,async function(){e(0,o=!0),await async function(){await fetch("/api/restart",{method:"POST"})}()},async function(){e(0,o=!0),await async function(){await fetch("/api/reset",{method:"POSt"})}()},function(t){return()=>{On("/"+t)}}]}new class extends pt{constructor(t){super(),dt(this,t,we,ge,i,{})}}({target:document.body})})();
//# sourceMappingURL=main.js.map